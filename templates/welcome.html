{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block content %}
<div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
  <h5 class="my-0 mr-md-auto font-weight-normal">Illuma Devops Task</h5>
  <nav class="my-2 my-md-0 mr-md-3">
    <a class="p-2 text-dark" href="url-based">By URL</a>
  </nav>
  <a class="btn btn-outline-primary" href="#">Home</a>
</div>

<div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
  <h1 class="display-4">Article Language Finder</h1>
  <h5>(File Input Based)</h5>
  <p class="lead">This page has been powered by <a href="https://flask.palletsprojects.com/">Flask</a>, the page allows to upload a list of URLs in text or csv format and scrapes the page and collects the text from the respective articles and finds out which human language it is based on with the help of <a href="https://www.meaningcloud.com/">MeaningCloud</a></p>
</div>

<div class="container">
  <div class="card-deck mb-3 text-center">
    <div class="card mb-4 shadow-sm">
      <div class="card-header">
        <h4 class="my-0 font-weight-normal">Upload the CSV/Text File</h4>
      </div>
      <div class="card-body">
        <form method="post" action="" enctype="multipart/form-data">
          <p>
              <input type="file" name="file">
          </p>
          <button type="submit" class="btn btn-lg btn-block btn-outline-primary">Upload & Start</button>
        </form>
      </div>
    </div>
  </div>
</div>
<div class="container">
  <table id="table" data-toggle="table" data-pagination="true">
    <thead class="thead-dark">
      <tr>
        <th>
            Article
        </th>
        <th>
            Language
        </th>
      </tr>
    </thead>
    
    {% for key in result %}
    <tr>
        <td>
            {{ key }}
        </td>
        <td>
            {{ result[key] }}
        </td>
    </tr>
    {% endfor %}
</table>
</div>
{% endblock %}